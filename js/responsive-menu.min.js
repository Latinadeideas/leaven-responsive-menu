!function(e,n,a){"use strict";function t(){var e=n("<button />",{class:M.submenuButton,"aria-expanded":!1,"aria-pressed":!1,"aria-label":x.params.subMenuAria}).append(x.params.toggle).append(n("<span />",{class:M.screenReader,text:x.params.subMenu}));n("nav "+I.submenu).before(e)}function s(){var e=n("<button />",{class:M.mainMenuButton,"aria-expanded":!1,"aria-pressed":!1}).append(x.params.button).append(x.params.mainMenu);n("nav"+x.params.primary).before(e),n(I.mainMenuButton).on("click.leaven-main",r).each(i)}function i(){var e=n(this),a=e.next("nav"),t="class";e.addClass(n(a).attr("class")),n(a).attr("id")&&(t="id"),e.attr("id","mobile-"+n(a).attr(t))}function u(e){n(e).each(function(){var e=n(this),a={trigger:e.find("> "+I.submenuButton),submenu:e.find("> "+I.submenu),others:e.siblings()};n(this).on("mouseenter",a,w),n(this).on("mouseleave",a,T)})}function r(){var e=n(this);d(e),e.next("nav, "+I.submenu).slideToggle()}function o(e){if(!e.keyCode||13===e.keyCode){var a=n(this);m({trigger:a,submenu:a.next(I.submenu),others:a.closest(I.menuItem).siblings()})}}function m(e){var n="addClass",a="slideDown",t=e.open||e.trigger.hasClass(M.activated);t&&(n="removeClass",a="slideUp"),e.trigger.attr("aria-pressed",!t).attr("aria-expanded",!t)[n](M.activated),e.submenu[a]()[n](M.open),"addClass"===n&&l(e.others)}function d(e){C(e,"aria-pressed"),C(e,"aria-expanded"),e.toggleClass(M.activated)}function l(e){e.find(I.submenuButton).removeClass(M.activated).attr("aria-pressed",!1).attr("aria-expanded",!1),e.find(I.submenu).slideUp("fast").removeClass(M.open)}function p(e){"none"===h(e)&&n(".genesis-nav-menu > li"+I.menuItem+" > a").focus(function(){l(n(I.menuItem))})}function v(e){var a="genesis-nav",t="mobile-genesis-nav";"none"===h(e)&&(a="mobile-genesis-nav",t="genesis-nav"),n('.genesis-skip-link a[href^="#'+a+'"]').each(function(){var e=n(this).attr("href");e=e.replace(a,t),n(this).attr("href",e)})}function c(){n("."+M.mainMenuButton+", "+I.submenuButton).removeClass(M.activated).attr("aria-expanded",!1).attr("aria-pressed",!1),n(I.submenu).removeClass(M.open),n("."+M.mobile+", "+I.submenu).attr("style","")}function f(e){0!==n(x.params.primary).length&&0!==x.params.menus.length&&void 0!==e&&n.each(x.params.menus,function(a,t){"none"!==h(e)?(n(".nav-"+t+" .menu > li").addClass("moved-item-"+t).appendTo(x.params.primary+" ul.genesis-nav-menu"),n(".nav-"+t).hide()):(n(".nav-"+t).show(),n(x.params.primary+" ul.genesis-nav-menu > li.moved-item-"+t).appendTo(".nav-"+t+" .menu"),n(".nav-"+t+" .menu > li").removeClass("moved-item-"+t))})}function b(e){var a="removeClass";"none"!==h(e)&&(a="addClass"),n(x.params.primary)[a](M.mobile)}function g(){var e=I.genesis+" "+I.parentMenuItem+" ";n(e+'> a[href="#"], '+e+"> a:not([href])").each(function(){var e=n(this),a=e.find("span").clone();e.next(I.submenuButton).prepend(a).addClass("pseudo").removeAttr("aria-label"),e.remove()})}function h(n){var a=e.getElementById(n);return window.getComputedStyle(a).getPropertyValue("display")}function C(e,n){e.attr(n,function(e,n){return y(n)})}function y(e){return"false"===e?"true":"false"}function B(e,n,a){var t;return function(){var s=this,i=arguments,u=function(){t=null,a||e.apply(s,i)},r=a&&!t;clearTimeout(t),t=setTimeout(u,n),r&&e.apply(s,i)}}var x={},M={mobile:"mobile",mainMenuButton:"menu-toggle",submenuButton:"sub-menu-toggle",screenReader:"screen-reader-text",activated:"activated",open:"open"},I={genesis:".genesis-nav-menu",menuItem:".menu-item",parentMenuItem:".menu-item-has-children",submenu:".sub-menu",mainMenuButton:"."+M.mainMenuButton,submenuButton:"."+M.submenuButton};x.init=function(){t(),g(),n(window).on("resize.leaven",k).triggerHandler("resize.leaven"),x.params.desktop||s()};var k=B(function(){var e=n('button[id^="mobile"]').attr("id"),a=I.genesis+" "+I.submenuButton,t=I.genesis+" "+I.parentMenuItem;l(n(I.genesis+" "+I.menuItem)),c(),n(t+","+a).off(),n(a).on("click.leaven-subbutton",o),void 0!==e&&"none"!==h(e)||u(t),void 0!==e&&(f(e),b(e),v(e),p(e))},250),w=B(function(e){e.data.trigger.hasClass(M.activated)||(e.data.open=!1,M.activated+=" item-hovered",m(e.data))},100),T=B(function(e){e.data.open=!0,m(e.data)},1e3);x.params="undefined"==typeof LeavenL10n?"":LeavenL10n,void 0!==x.params&&x.init()}(document,jQuery);